<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="D.O F√°cil - Aux√≠lio no preenchimento da Declara√ß√£o de √ìbito">
    <meta name="theme-color" content="#0a192f">
    <link rel="manifest" href="manifest.json">
    <title>D.O F√°cil</title>
    
    <!-- √çcones integrados como Data URIs -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìã</text></svg>">
    
    <style>
        /* ESTILOS COMPLETOS INTEGRADOS */
        :root {
            --primary-dark: #0a192f;
            --primary-blue: #112240;
            --accent-blue: #64ffda;
            --white: #ffffff;
            --light-gray: #f5f5f5;
            --medium-gray: #e0e0e0;
            --dark-gray: #333333;
            --warning: #ff6b6b;
            --success: #4caf50;
            --text-dark: #333;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--primary-dark);
            color: var(--white);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .screen {
            display: none;
            flex: 1;
            flex-direction: column;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .active {
            display: flex;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .logo:hover {
            opacity: 0.8;
        }
        
        .logo-icon {
            font-size: 28px;
            color: var(--accent-blue);
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--white);
        }
        
        .user-info {
            font-size: 14px;
            background-color: var(--primary-blue);
            padding: 5px 10px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .nina-assistant {
            display: flex;
            margin-bottom: 25px;
            gap: 15px;
            align-items: flex-start;
        }
        
        .nina-avatar {
            width: 70px;
            height: 70px;
            background-color: var(--primary-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--accent-blue);
            flex-shrink: 0;
        }
        
        .speech-bubble {
            background-color: var(--primary-blue);
            border-radius: 15px;
            padding: 15px;
            position: relative;
            max-width: 85%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .speech-bubble:after {
            content: '';
            position: absolute;
            left: -10px;
            top: 20px;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid var(--primary-blue);
        }
        
        .speech-text {
            font-size: 16px;
            line-height: 1.5;
        }
        
        .typing {
            overflow: hidden;
            white-space: nowrap;
            animation: typing 3s steps(40, end);
        }
        
        .content {
            background-color: var(--primary-blue);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            flex: 1;
            overflow-y: auto;
            max-height: 60vh;
        }
        
        .title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--accent-blue);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            background-color: var(--accent-blue);
            color: var(--primary-dark);
            border: none;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-align: left;
        }
        
        .btn:hover {
            background-color: var(--white);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .option-btn {
            background-color: transparent;
            border: 2px solid var(--accent-blue);
            color: var(--accent-blue);
        }
        
        .option-btn:hover {
            background-color: rgba(100, 255, 218, 0.1);
        }
        
        .back-btn {
            background-color: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
            margin-top: 20px;
        }
        
        .alert {
            background-color: rgba(255, 107, 107, 0.1);
            border: 1px solid var(--warning);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--medium-gray);
            background-color: var(--light-gray);
            color: var(--text-dark);
            font-size: 16px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 2px rgba(100, 255, 218, 0.25);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .checkbox-group input {
            width: 20px;
            height: 20px;
        }
        
        .data-card {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .data-card h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .data-card ul {
            padding-left: 20px;
        }
        
        .data-card li {
            margin-bottom: 8px;
        }
        
        .progress-container {
            margin: 20px 0;
            position: sticky;
            top: 0;
            background: var(--primary-dark);
            z-index: 10;
            padding: 10px 0;
        }
        
        .progress-bar {
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--accent-blue);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--accent-blue);
        }
        
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            min-width: 70px;
        }
        
        .step-circle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(100, 255, 218, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .step.active .step-circle {
            background-color: var(--accent-blue);
            color: var(--primary-dark);
        }
        
        .step-label {
            font-size: 12px;
            text-align: center;
            color: var(--medium-gray);
        }
        
        .step.active .step-label {
            color: var(--accent-blue);
        }
        
        .dash-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .dash-card {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .dash-card h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dash-value {
            font-size: 32px;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .dash-list {
            list-style-type: none;
            padding: 0;
        }
        
        .dash-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .dash-list li:last-child {
            border-bottom: none;
        }
        
        /* Estilos para o hist√≥rico */
        .history-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .history-item {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .history-item:hover {
            background-color: rgba(100, 255, 218, 0.1);
            transform: translateY(-2px);
        }
        
        .history-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .history-name {
            font-weight: 600;
            font-size: 18px;
            color: var(--accent-blue);
        }
        
        .history-date {
            font-size: 14px;
            color: var(--medium-gray);
        }
        
        .history-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            background: transparent;
            border: none;
            color: var(--accent-blue);
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(100, 255, 218, 0.2);
        }
        
        .empty-history {
            text-align: center;
            padding: 30px;
            color: var(--medium-gray);
        }
        
        /* Estilos para a tela de resumo */
        .summary-container {
            background-color: var(--primary-blue);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            overflow-y: auto;
            max-height: 60vh;
        }
        
        .summary-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--accent-blue);
            font-weight: 600;
            text-align: center;
        }
        
        .summary-content {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .summary-section {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .summary-section h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .summary-item {
            margin-bottom: 10px;
            display: flex;
        }
        
        .summary-label {
            font-weight: 600;
            min-width: 180px;
            color: var(--accent-blue);
        }
        
        .summary-value {
            flex: 1;
        }
        
        .success-message {
            text-align: center;
            padding: 20px;
            background-color: rgba(76, 175, 80, 0.1);
            border-radius: 10px;
            border: 1px solid var(--success);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: var(--medium-gray);
            border-top: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .nina-assistant {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .nina-avatar {
                margin-bottom: 10px;
            }
            
            .speech-bubble {
                max-width: 100%;
            }
            
            .speech-bubble:after {
                display: none;
            }
            
            .content {
                padding: 20px 15px;
            }
            
            .dash-container {
                grid-template-columns: 1fr;
            }
            
            .step-indicator {
                gap: 3px;
            }
            
            .step {
                min-width: 45px;
            }
            
            .step-label {
                font-size: 10px;
            }
            
            .history-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .history-actions {
                align-self: flex-end;
            }
            
            .summary-item {
                flex-direction: column;
            }
            
            .summary-label {
                min-width: auto;
                margin-bottom: 5px;
            }
        }

        /* √çcones como pseudo-elementos */
        .icon::before {
            content: '';
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 8px;
            background-size: contain;
            background-repeat: no-repeat;
            vertical-align: middle;
        }

        .icon-file::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z'/%3E%3C/svg%3E");
        }

        .icon-user::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E");
        }

        .icon-play::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M8 5v14l11-7z'/%3E%3C/svg%3E");
        }

        .icon-chart::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z'/%3E%3C/svg%3E");
        }

        .icon-scale::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6z'/%3E%3C/svg%3E");
        }

        .icon-history::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z'/%3E%3C/svg%3E");
        }

        .icon-arrow-left::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z'/%3E%3C/svg%3E");
        }

        .icon-check::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z'/%3E%3C/svg%3E");
        }

        .icon-home::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z'/%3E%3C/svg%3E");
        }

        .icon-eye::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z'/%3E%3C/svg%3E");
        }

        .icon-trash::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%2364ffda' d='M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tela 1: Boas-Vindas -->
        <section id="welcome-screen" class="screen active">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text typing">Ol√°! Eu sou a Nina. Vou te ajudar no preenchimento da DO.</p>
                </div>
            </div>
            
            <div class="content">
                <h2 class="title">Preencha a Declara√ß√£o de √ìbito com confian√ßa</h2>
                <p>O D.O F√°cil √© um aplicativo desenvolvido para guiar profissionais de sa√∫de no preenchimento correto e completo da Declara√ß√£o de √ìbito, com foco em precis√£o e conformidade com as normas.</p>
                <div class="alert">
                    <span>‚ö†Ô∏è</span>
                    <div>Este aplicativo n√£o substitui o conhecimento m√©dico, mas serve como guia para auxiliar no preenchimento correto da DO.</div>
                </div>
            </div>
            
            <div class="btn-container">
                <button class="btn" onclick="navigateTo('user-screen')">
                    <span class="icon icon-play"></span> Iniciar
                </button>
            </div>
        </section>
        
        <!-- Tela 2: Identifica√ß√£o do Usu√°rio -->
        <section id="user-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text">Vamos come√ßar! Por favor, identifique-se para que eu possa adaptar minhas orienta√ß√µes ao seu perfil.</p>
                </div>
            </div>
            
            <div class="content">
                <h2 class="title"><span class="icon icon-user"></span> Quem √© voc√™?</h2>
                
                <div class="btn-container">
                    <button class="btn option-btn" onclick="setUserType('academico')">
                        <span>üéì</span> Acad√™mico treinante
                    </button>
                    <button class="btn option-btn" onclick="setUserType('medico')">
                        <span>üë®‚Äç‚öïÔ∏è</span> M√©dico rec√©m-formado
                    </button>
                    <button class="btn option-btn" onclick="setUserType('especialista')">
                        <span>üëî</span> Especialista
                    </button>
                </div>
            </div>
            
            <button class="btn back-btn" onclick="navigateTo('welcome-screen')">
                <span class="icon icon-arrow-left"></span> Voltar
            </button>
        </section>
        
        <!-- Tela 3: Escolha de A√ß√£o -->
        <section id="action-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
                <div id="user-display" class="user-info">
                    <span class="icon icon-user"></span> <span>M√©dico rec√©m-formado</span>
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text">Como posso ajud√°-lo hoje?</p>
                </div>
            </div>
            
            <div class="content">
                <h2 class="title"><span>üìù</span> O que voc√™ gostaria de fazer?</h2>
                
                <div class="btn-container">
                    <button class="btn" onclick="navigateTo('do-screen')">
                        <span class="icon icon-file"></span> Preencher DO
                    </button>
                    <button class="btn" onclick="navigateTo('data-screen')">
                        <span class="icon icon-chart"></span> Consultar dados epidemiol√≥gicos
                    </button>
                    <button class="btn" onclick="navigateTo('law-screen')">
                        <span class="icon icon-scale"></span> Ver legisla√ß√£o e orienta√ß√µes
                    </button>
                    <button class="btn" onclick="navigateTo('history-screen')">
                        <span class="icon icon-history"></span> Hist√≥rico de Declara√ß√µes
                    </button>
                </div>
            </div>
            
            <button class="btn back-btn" onclick="navigateTo('user-screen')">
                <span class="icon icon-arrow-left"></span> Voltar
            </button>
        </section>
        
        <!-- Tela 4: Preenchimento da DO -->
        <section id="do-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
                <div id="do-user-display" class="user-info">
                    <span class="icon icon-user"></span> <span>M√©dico rec√©m-formado</span>
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text" id="nina-do-text">Vamos preencher a Declara√ß√£o de √ìbito. Vou gui√°-lo passo a passo.</p>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text">Bloco I de IX</div>
                <div class="step-indicator">
                    <div class="step active" data-step="1">
                        <div class="step-circle">I</div>
                        <div class="step-label">Identifica√ß√£o</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-circle">II</div>
                        <div class="step-label">Resid√™ncia</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">III</div>
                        <div class="step-label">Ocorr√™ncia</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">IV</div>
                        <div class="step-label">Materno</div>
                    </div>
                    <div class="step" data-step="5">
                        <div class="step-circle">V</div>
                        <div class="step-label">Causas</div>
                    </div>
                    <div class="step" data-step="6">
                        <div class="step-circle">VI</div>
                        <div class="step-label">M√©dico</div>
                    </div>
                    <div class="step" data-step="7">
                        <div class="step-circle">VII</div>
                        <div class="step-label">Causas Ext.</div>
                    </div>
                    <div class="step" data-step="8">
                        <div class="step-circle">VIII</div>
                        <div class="step-label">Cart√≥rio</div>
                    </div>
                    <div class="step" data-step="9">
                        <div class="step-circle">IX</div>
                        <div class="step-label">Local. sem M√©d.</div>
                    </div>
                </div>
            </div>
            
            <div class="content" id="do-content">
                <!-- Conte√∫do din√¢mico para cada bloco -->
            </div>
            
            <div class="btn-container" id="do-buttons">
                <!-- Bot√µes din√¢micos -->
            </div>
        </section>
        
        <!-- Tela 5: Dados Epidemiol√≥gicos -->
        <section id="data-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
                <div class="user-info">
                    <span class="icon icon-chart"></span> Dados Epidemiol√≥gicos
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text">Aqui est√£o os dados epidemiol√≥gicos atualizados. Essas informa√ß√µes podem ajudar na vigil√¢ncia em sa√∫de.</p>
                </div>
            </div>
            
            <div class="content">
                <h2 class="title"><span>üìä</span> Painel Epidemiol√≥gico</h2>
                
                <div class="form-group">
                    <label for="date-select">Selecione a data:</label>
                    <input type="date" id="date-select" class="form-control" value="2023-10-15">
                </div>
                
                <div class="dash-container">
                    <div class="dash-card">
                        <h3><span>üíÄ</span> Total de √ìbitos</h3>
                        <div class="dash-value">142</div>
                        <p>Registrados no dia selecionado</p>
                    </div>
                    
                    <div class="dash-card">
                        <h3><span>‚ù§Ô∏è</span> Mortes Naturais</h3>
                        <div class="dash-value">89</div>
                        <p>Causas mais prevalentes:</p>
                        <ul class="dash-list">
                            <li>Cardiovasculares <span>32%</span></li>
                            <li>Neoplasias <span>28%</span></li>
                            <li>Respirat√≥rias <span>18%</span></li>
                            <li>Outras <span>22%</span></li>
                        </ul>
                    </div>
                    
                    <div class="dash-card">
                        <h3><span>‚ö†Ô∏è</span> Mortes Suspeitas</h3>
                        <div class="dash-value">24</div>
                        <p>Principais origens:</p>
                        <ul class="dash-list">
                            <li>Infec√ß√µes <span>42%</span></li>
                            <li>Toxicol√≥gicas <span>25%</span></li>
                            <li>Indeterminadas <span>33%</span></li>
                        </ul>
                    </div>
                    
                    <div class="dash-card">
                        <h3><span>üöó</span> Mortes Violentas</h3>
                        <div class="dash-value">29</div>
                        <p>Distribui√ß√£o por tipo:</p>
                        <ul class="dash-list">
                            <li>Acidentes <span>48%</span></li>
                            <li>Suic√≠dios <span>24%</span></li>
                            <li>Homic√≠dios <span>28%</span></li>
                        </ul>
                    </div>
                    
                    <div class="dash-card">
                        <h3><span>üìù</span> Origem das DOs</h3>
                        <div class="dash-value">142</div>
                        <p>Distribui√ß√£o por origem:</p>
                        <ul class="dash-list">
                            <li>M√©dico assistente <span>62%</span></li>
                            <li>SVO <span>22%</span></li>
                            <li>IML <span>16%</span></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <button class="btn back-btn" onclick="navigateTo('action-screen')">
                <span class="icon icon-arrow-left"></span> Voltar
            </button>
        </section>
        
        <!-- Tela 6: Legisla√ß√£o -->
        <section id="law-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
                <div class="user-info">
                    <span class="icon icon-scale"></span> Legisla√ß√£o
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text">√â importante conhecer as diretrizes legais para o preenchimento da Declara√ß√£o de √ìbito.</p>
                </div>
            </div>
            
            <div class="content">
                <h2 class="title"><span>‚öñÔ∏è</span> Legisla√ß√£o e Orienta√ß√µes Finais</h2>
                
                <div class="data-card">
                    <h3>Responsabilidade Legal</h3>
                    <p>O preenchimento da Declara√ß√£o de √ìbito √© um ato m√©dico de responsabilidade legal e deve ser feito com aten√ß√£o e precis√£o.</p>
                </div>
                
                <div class="data-card">
                    <h3>Regras Gerais</h3>
                    <ul>
                        <li>A DO deve ser preenchida pelo m√©dico que assistiu o paciente na √∫ltima doen√ßa</li>
                        <li>Em caso de morte violenta ou suspeita, comunicar imediatamente √† autoridade policial</li>
                        <li>O corpo s√≥ pode ser liberado ap√≥s a emiss√£o da DO</li>
                    </ul>
                </div>
                
                <div class="alert">
                    <span>‚ö†Ô∏è</span>
                    <div>
                        <strong>Aten√ß√£o:</strong> A lei prev√™ que, em localidades sem m√©dicos, a DO seja preenchida pelo cart√≥rio, 
                        na presen√ßa do declarante e de duas pessoas id√¥neas, maiores de idade.
                    </div>
                </div>
                
                <div class="data-card">
                    <h3>Orienta√ß√µes Importantes</h3>
                    <ul>
                        <li>Jamais preencha a DO sem ver o cad√°ver</li>
                        <li>Verifique cuidadosamente a identidade do falecido</li>
                        <li>Em caso de d√∫vida sobre a causa da morte, consulte um colega ou o servi√ßo de verifica√ß√£o de √≥bitos</li>
                        <li>Mantenha c√≥pia da DO por pelo menos 5 anos</li>
                    </ul>
                </div>
            </div>
            
            <button class="btn back-btn" onclick="navigateTo('action-screen')">
                <span class="icon icon-arrow-left"></span> Voltar
            </button>
        </section>
        
        <!-- Tela 7: Hist√≥rico de Declara√ß√µes -->
        <section id="history-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
                <div class="user-info">
                    <span class="icon icon-history"></span> Hist√≥rico
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text">Aqui est√£o todas as declara√ß√µes de √≥bito que voc√™ preencheu.</p>
                </div>
            </div>
            
            <div class="content">
                <h2 class="title"><span class="icon icon-file"></span> Hist√≥rico de Declara√ß√µes</h2>
                
                <div id="history-list" class="history-container">
                    <!-- Hist√≥rico ser√° carregado aqui -->
                </div>
            </div>
            
            <button class="btn back-btn" onclick="navigateTo('action-screen')">
                <span class="icon icon-arrow-left"></span> Voltar
            </button>
        </section>
        
        <!-- Tela 8: Resumo da DO -->
        <section id="summary-screen" class="screen">
            <header>
                <div class="logo" onclick="navigateTo('welcome-screen')">
                    <span class="logo-icon">üìã</span>
                    <h1 class="logo-text">D.O F√°cil</h1>
                </div>
                <div class="user-info">
                    <span class="icon icon-file"></span> Resumo
                </div>
            </header>
            
            <div class="nina-assistant">
                <div class="nina-avatar">
                    <span>üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="speech-bubble">
                    <p class="speech-text">Resumo da Declara√ß√£o de √ìbito preenchida.</p>
                </div>
            </div>
            
            <div class="summary-container">
                <h2 class="summary-title">Resumo da Declara√ß√£o de √ìbito</h2>
                
                <div class="success-message">
                    <span>‚úÖ</span>
                    <div>Declara√ß√£o de √ìbito salva com sucesso no hist√≥rico!</div>
                </div>
                
                <div class="summary-content" id="summary-content">
                    <!-- Resumo ser√° gerado aqui -->
                </div>
            </div>
            
            <div class="btn-container">
                <button class="btn" onclick="navigateTo('welcome-screen')">
                    <span class="icon icon-home"></span> Voltar ao In√≠cio
                </button>
                <button class="btn option-btn" onclick="navigateTo('history-screen')">
                    <span class="icon icon-history"></span> Ver Hist√≥rico
                </button>
            </div>
        </section>
    </div>
    
    <footer>
        <p>D.O F√°cil &copy; 2025 - Auxiliando profissionais de sa√∫de no preenchimento correto da Declara√ß√£o de √ìbito</p>
    </footer>
    
    <script>
        // Dados para preenchimento da DO com todos os 9 blocos
        const doSections = [
            {
                title: "Bloco I: Identifica√ß√£o do paciente",
                ninaText: "Esse espa√ßo √© reservado para a identifica√ß√£o do paciente. Tenha em m√£os um documento com foto e converse com um familiar calmo.",
                content: `
                    <div class="alert">
                        <span>‚ö†Ô∏è</span>
                        <div><strong>Aten√ß√£o:</strong> Jamais preencha a DO sem ver o cad√°ver!</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="patient-name">Nome completo do falecido:</label>
                        <input type="text" id="patient-name" class="form-control" placeholder="Digite o nome completo">
                    </div>
                    
                    <div class="form-group">
                        <label for="patient-doc">Documento de identifica√ß√£o (RG/CPF):</label>
                        <input type="text" id="patient-doc" class="form-control" placeholder="N√∫mero do documento">
                    </div>
                    
                    <div class="form-group">
                        <label for="mother-name">Nome da m√£e:</label>
                        <input type="text" id="mother-name" class="form-control" placeholder="Nome completo da m√£e">
                    </div>
                    
                    <div class="form-group">
                        <label for="father-name">Nome do pai:</label>
                        <input type="text" id="father-name" class="form-control" placeholder="Nome completo do pai">
                    </div>
                    
                    <div class="form-group">
                        <label for="birth-date">Data de nascimento:</label>
                        <input type="date" id="birth-date" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="death-date">Data do √≥bito:</label>
                        <input type="date" id="death-date" class="form-control">
                    </div>
                `,
                buttons: [
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco II: Resid√™ncia",
                ninaText: "Informe o endere√ßo de resid√™ncia do falecido.",
                content: `
                    <div class="form-group">
                        <label for="res-street">Logradouro:</label>
                        <input type="text" id="res-street" class="form-control" placeholder="Rua, avenida, etc.">
                    </div>
                    
                    <div class="form-group">
                        <label for="res-number">N√∫mero:</label>
                        <input type="text" id="res-number" class="form-control" placeholder="N√∫mero">
                    </div>
                    
                    <div class="form-group">
                        <label for="res-complement">Complemento:</label>
                        <input type="text" id="res-complement" class="form-control" placeholder="Complemento">
                    </div>
                    
                    <div class="form-group">
                        <label for="res-district">Bairro:</label>
                        <input type="text" id="res-district" class="form-control" placeholder="Bairro">
                    </div>
                    
                    <div class="form-group">
                        <label for="res-city">Cidade:</label>
                        <input type="text" id="res-city" class="form-control" placeholder="Cidade">
                    </div>
                    
                    <div class="form-group">
                        <label for="res-state">Estado:</label>
                        <select id="res-state" class="form-control">
                            <option value="">Selecione o estado</option>
                            <option value="SP">S√£o Paulo</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="ES">Esp√≠rito Santo</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="PR">Paran√°</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Cear√°</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="res-cep">CEP:</label>
                        <input type="text" id="res-cep" class="form-control" placeholder="CEP">
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco III: Ocorr√™ncia",
                ninaText: "Informe o local onde ocorreu o √≥bito.",
                content: `
                    <div class="form-group">
                        <label for="death-place">Local do √≥bito:</label>
                        <select id="death-place" class="form-control">
                            <option value="">Selecione o local</option>
                            <option value="hospital">Hospital</option>
                            <option value="domicilio">Domic√≠lio</option>
                            <option value="via_publica">Via p√∫blica</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="death-institution">Nome da institui√ß√£o (se aplic√°vel):</label>
                        <input type="text" id="death-institution" class="form-control" placeholder="Nome do hospital ou institui√ß√£o">
                    </div>
                    
                    <div class="form-group">
                        <label for="death-address">Endere√ßo completo do local:</label>
                        <input type="text" id="death-address" class="form-control" placeholder="Rua, n√∫mero, bairro, cidade">
                    </div>
                    
                    <div class="form-group">
                        <label for="death-city">Cidade:</label>
                        <input type="text" id="death-city" class="form-control" placeholder="Cidade">
                    </div>
                    
                    <div class="form-group">
                        <label for="death-state">Estado:</label>
                        <select id="death-state" class="form-control">
                            <option value="">Selecione o estado</option>
                            <option value="SP">S√£o Paulo</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="ES">Esp√≠rito Santo</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="PR">Paran√°</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Cear√°</option>
                        </select>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="violent-death">
                        <label for="violent-death">√ìbito com causa violenta ou suspeita</label>
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco IV: Dados materno-infantis",
                ninaText: "Atente-se √† idade da v√≠tima! Esse bloco √© reservado a dados epidemiol√≥gicos materno-infantis.",
                content: `
                    <div class="alert">
                        <span>‚ö†Ô∏è</span>
                        <div><strong>Importante:</strong> Preencha este bloco apenas se o falecido for crian√ßa menor de 1 ano ou mulher em idade f√©rtil (10-49 anos).</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="mother-age">Idade da m√£e (se crian√ßa):</label>
                        <input type="number" id="mother-age" class="form-control" placeholder="Idade em anos">
                    </div>
                    
                    <div class="form-group">
                        <label for="pregnancy">A morte est√° relacionada √† gravidez?</label>
                        <select id="pregnancy" class="form-control">
                            <option value="">Selecione</option>
                            <option value="sim">Sim</option>
                            <option value="nao">N√£o</option>
                            <option value="ignorado">Ignorado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="dn-number">N√∫mero da Declara√ß√£o de Nascido Vivo (DN):</label>
                        <input type="text" id="dn-number" class="form-control" placeholder="N√∫mero da DN">
                    </div>
                    
                    <div class="form-group">
                        <label for="birth-weight">Peso ao nascer (gramas):</label>
                        <input type="number" id="birth-weight" class="form-control" placeholder="Peso em gramas">
                    </div>
                    
                    <div class="form-group">
                        <label for="prenatal">Teve acompanhamento pr√©-natal?</label>
                        <select id="prenatal" class="form-control">
                            <option value="">Selecione</option>
                            <option value="sim">Sim</option>
                            <option value="nao">N√£o</option>
                            <option value="ignorado">Ignorado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="delivery-type">Tipo de parto:</label>
                        <select id="delivery-type" class="form-control">
                            <option value="">Selecione</option>
                            <option value="vaginal">Vaginal</option>
                            <option value="cesarea">Ces√°rea</option>
                            <option value="ignorado">Ignorado</option>
                        </select>
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco V: Condi√ß√µes e causas do √≥bito",
                ninaText: "Descreva as condi√ß√µes e causas do √≥bito conforme a sequ√™ncia de eventos.",
                content: `
                    <div class="alert">
                        <span>‚ö†Ô∏è</span>
                        <div><strong>Importante:</strong> Preencha a causa b√°sica e as causas associadas.</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="immediate-cause">Causa imediata (a):</label>
                        <input type="text" id="immediate-cause" class="form-control" placeholder="Ex: Parada cardiorrespirat√≥ria">
                    </div>
                    
                    <div class="form-group">
                        <label for="antecedent-cause">Causa antecedente (b):</label>
                        <input type="text" id="antecedent-cause" class="form-control" placeholder="Ex: Infarto agudo do mioc√°rdio">
                    </div>
                    
                    <div class="form-group">
                        <label for="underlying-cause">Causa b√°sica (c):</label>
                        <input type="text" id="underlying-cause" class="form-control" placeholder="Ex: Doen√ßa isqu√™mica do cora√ß√£o">
                    </div>
                    
                    <div class="form-group">
                        <label for="other-conditions">Outras condi√ß√µes:</label>
                        <textarea id="other-conditions" class="form-control" placeholder="Outras condi√ß√µes significativas que contribu√≠ram para o √≥bito"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="death-manner">Tipo de morte:</label>
                        <select id="death-manner" class="form-control">
                            <option value="">Selecione</option>
                            <option value="natural">Natural</option>
                            <option value="acidente">Acidente</option>
                            <option value="suicidio">Suic√≠dio</option>
                            <option value="homicidio">Homic√≠dio</option>
                            <option value="ignorado">Ignorado</option>
                        </select>
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco VI: Dados do m√©dico",
                ninaText: "Preencha seus dados como m√©dico declarante.",
                content: `
                    <div class="form-group">
                        <label for="doctor-name">Nome do m√©dico:</label>
                        <input type="text" id="doctor-name" class="form-control" placeholder="Nome completo">
                    </div>
                    
                    <div class="form-group">
                        <label for="doctor-crm">CRM:</label>
                        <input type="text" id="doctor-crm" class="form-control" placeholder="N√∫mero do CRM">
                    </div>
                    
                    <div class="form-group">
                        <label for="doctor-uf">UF do CRM:</label>
                        <select id="doctor-uf" class="form-control">
                            <option value="">Selecione a UF</option>
                            <option value="SP">S√£o Paulo</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="ES">Esp√≠rito Santo</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="PR">Paran√°</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Cear√°</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="signature-date">Data de assinatura:</label>
                        <input type="date" id="signature-date" class="form-control">
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco VII: Causas externas",
                ninaText: "Preencha apenas se a morte foi por causas externas (acidentes, viol√™ncias, etc.).",
                content: `
                    <div class="alert">
                        <span>‚ö†Ô∏è</span>
                        <div><strong>Aten√ß√£o:</strong> Este bloco s√≥ deve ser preenchido em caso de morte por causas externas.</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="accident-date">Data do acidente/agress√£o:</label>
                        <input type="date" id="accident-date" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="accident-time">Hora do acidente/agress√£o:</label>
                        <input type="time" id="accident-time" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="accident-place">Local do acidente/agress√£o:</label>
                        <input type="text" id="accident-place" class="form-control" placeholder="Local">
                    </div>
                    
                    <div class="form-group">
                        <label for="accident-type">Tipo de acidente/agress√£o:</label>
                        <select id="accident-type" class="form-control">
                            <option value="">Selecione</option>
                            <option value="transito">Acidente de tr√¢nsito</option>
                            <option value="queda">Queda</option>
                            <option value="afogamento">Afogamento</option>
                            <option value="intoxicacao">Intoxica√ß√£o</option>
                            <option value="agressao">Agress√£o f√≠sica</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="accident-description">Descri√ß√£o do ocorrido:</label>
                        <textarea id="accident-description" class="form-control" placeholder="Descreva o ocorrido"></textarea>
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco VIII: Cart√≥rio",
                ninaText: "Dados para registro no cart√≥rio.",
                content: `
                    <div class="form-group">
                        <label for="registry-office">Cart√≥rio de registro:</label>
                        <input type="text" id="registry-office" class="form-control" placeholder="Nome do cart√≥rio">
                    </div>
                    
                    <div class="form-group">
                        <label for="registry-city">Cidade do cart√≥rio:</label>
                        <input type="text" id="registry-city" class="form-control" placeholder="Cidade">
                    </div>
                    
                    <div class="form-group">
                        <label for="registry-uf">UF do cart√≥rio:</label>
                        <select id="registry-uf" class="form-control">
                            <option value="">Selecione a UF</option>
                            <option value="SP">S√£o Paulo</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="ES">Esp√≠rito Santo</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="PR">Paran√°</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Cear√°</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="registry-date">Data do registro:</label>
                        <input type="date" id="registry-date" class="form-control">
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Pr√≥ximo", action: "nextSection", icon: "arrow-right" }
                ]
            },
            {
                title: "Bloco IX: Localidade sem m√©dico",
                ninaText: "Preencha este bloco apenas se a declara√ß√£o for preenchida em localidade sem m√©dico.",
                content: `
                    <div class="alert">
                        <span>‚ö†Ô∏è</span>
                        <div><strong>Nota:</strong> Este bloco deve ser preenchido apenas em localidades sem m√©dicos, na presen√ßa do declarante e de duas testemunhas.</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="declarant-name">Nome do declarante:</label>
                        <input type="text" id="declarant-name" class="form-control" placeholder="Nome completo">
                    </div>
                    
                    <div class="form-group">
                        <label for="declarant-doc">Documento do declarante:</label>
                        <input type="text" id="declarant-doc" class="form-control" placeholder="RG ou CPF">
                    </div>
                    
                    <div class="form-group">
                        <label for="witness1-name">Nome da primeira testemunha:</label>
                        <input type="text" id="witness1-name" class="form-control" placeholder="Nome completo">
                    </div>
                    
                    <div class="form-group">
                        <label for="witness1-doc">Documento da primeira testemunha:</label>
                        <input type="text" id="witness1-doc" class="form-control" placeholder="RG ou CPF">
                    </div>
                    
                    <div class="form-group">
                        <label for="witness2-name">Nome da segunda testemunha:</label>
                        <input type="text" id="witness2-name" class="form-control" placeholder="Nome completo">
                    </div>
                    
                    <div class="form-group">
                        <label for="witness2-doc">Documento da segunda testemunha:</label>
                        <input type="text" id="witness2-doc" class="form-control" placeholder="RG ou CPF">
                    </div>
                `,
                buttons: [
                    { text: "Anterior", action: "prevSection", icon: "arrow-left" },
                    { text: "Concluir", action: "showSummary", icon: "check" }
                ]
            }
        ];
        
        // Estado da aplica√ß√£o
        let currentSection = 0;
        let userType = '';
        let history = JSON.parse(localStorage.getItem('doHistory')) || [];
        let currentDOData = null;
        
        // Navega√ß√£o entre telas
        function navigateTo(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'do-screen') {
                updateDOView();
            }
            
            if (screenId === 'history-screen') {
                loadHistory();
            }
        }
        
        // Definir tipo de usu√°rio
        function setUserType(type) {
            userType = type;
            let displayText = '';
            
            switch(type) {
                case 'academico': 
                    displayText = 'Acad√™mico treinante';
                    break;
                case 'medico':
                    displayText = 'M√©dico rec√©m-formado';
                    break;
                case 'especialista':
                    displayText = 'Especialista';
                    break;
            }
            
            document.getElementById('user-display').innerHTML = `<span class="icon icon-user"></span> ${displayText}`;
            document.getElementById('do-user-display').innerHTML = `<span class="icon icon-user"></span> ${displayText}`;
            
            navigateTo('action-screen');
        }
        
        // Atualizar se√ß√£o atual da DO
        function updateDOView() {
            const section = doSections[currentSection];
            const doContent = document.getElementById('do-content');
            const ninaText = document.getElementById('nina-do-text');
            const buttonsContainer = document.getElementById('do-buttons');
            
            ninaText.textContent = section.ninaText;
            
            doContent.innerHTML = `
                <h2 class="title"><span>üìù</span> ${section.title}</h2>
                ${section.content}
            `;
            
            buttonsContainer.innerHTML = '';
            section.buttons.forEach(btn => {
                const button = document.createElement('button');
                button.className = `btn ${btn.action === 'prevSection' ? 'back-btn' : ''}`;
                button.innerHTML = `<span class="icon icon-${btn.icon}"></span> ${btn.text}`;
                button.onclick = function() {
                    if (btn.action === 'nextSection') nextSection();
                    else if (btn.action === 'prevSection') prevSection();
                    else if (btn.action === 'showSummary') showSummary();
                };
                buttonsContainer.appendChild(button);
            });
            
            updateProgress();
        }
        
        // Avan√ßar para pr√≥xima se√ß√£o
        function nextSection() {
            if (currentSection < doSections.length - 1) {
                currentSection++;
                updateDOView();
            }
        }
        
        // Voltar para se√ß√£o anterior
        function prevSection() {
            if (currentSection > 0) {
                currentSection--;
                updateDOView();
            }
        }
        
        // Coletar dados do formul√°rio
        function collectFormData() {
            const formData = {};
            
            // Bloco I
            formData.patientName = document.getElementById('patient-name').value || 'N√£o informado';
            formData.patientDoc = document.getElementById('patient-doc').value || 'N√£o informado';
            formData.motherName = document.getElementById('mother-name').value || 'N√£o informado';
            formData.fatherName = document.getElementById('father-name').value || 'N√£o informado';
            formData.birthDate = document.getElementById('birth-date').value || 'N√£o informado';
            formData.deathDate = document.getElementById('death-date').value || 'N√£o informado';
            
            // Bloco II
            formData.resStreet = document.getElementById('res-street').value || 'N√£o informado';
            formData.resNumber = document.getElementById('res-number').value || 'N√£o informado';
            formData.resComplement = document.getElementById('res-complement').value || 'N√£o informado';
            formData.resDistrict = document.getElementById('res-district').value || 'N√£o informado';
            formData.resCity = document.getElementById('res-city').value || 'N√£o informado';
            formData.resState = document.getElementById('res-state').value || 'N√£o informado';
            formData.resCep = document.getElementById('res-cep').value || 'N√£o informado';
            
            // Bloco III
            formData.deathPlace = document.getElementById('death-place').value || 'N√£o informado';
            formData.deathInstitution = document.getElementById('death-institution').value || 'N√£o informado';
            formData.deathAddress = document.getElementById('death-address').value || 'N√£o informado';
            formData.deathCity = document.getElementById('death-city').value || 'N√£o informado';
            formData.deathState = document.getElementById('death-state').value || 'N√£o informado';
            formData.violentDeath = document.getElementById('violent-death').checked ? 'Sim' : 'N√£o';
            
            // Bloco IV
            formData.motherAge = document.getElementById('mother-age').value || 'N√£o aplic√°vel';
            formData.pregnancy = document.getElementById('pregnancy').value || 'N√£o aplic√°vel';
            formData.dnNumber = document.getElementById('dn-number').value || 'N√£o aplic√°vel';
            formData.birthWeight = document.getElementById('birth-weight').value || 'N√£o aplic√°vel';
            formData.prenatal = document.getElementById('prenatal').value || 'N√£o aplic√°vel';
            formData.deliveryType = document.getElementById('delivery-type').value || 'N√£o aplic√°vel';
            
            // Bloco V
            formData.immediateCause = document.getElementById('immediate-cause').value || 'N√£o informado';
            formData.antecedentCause = document.getElementById('antecedent-cause').value || 'N√£o informado';
            formData.underlyingCause = document.getElementById('underlying-cause').value || 'N√£o informado';
            formData.otherConditions = document.getElementById('other-conditions').value || 'N√£o informado';
            formData.deathManner = document.getElementById('death-manner').value || 'N√£o informado';
            
            // Bloco VI
            formData.doctorName = document.getElementById('doctor-name').value || 'N√£o informado';
            formData.doctorCrm = document.getElementById('doctor-crm').value || 'N√£o informado';
            formData.doctorUf = document.getElementById('doctor-uf').value || 'N√£o informado';
            formData.signatureDate = document.getElementById('signature-date').value || 'N√£o informado';
            
            // Bloco VII
            formData.accidentDate = document.getElementById('accident-date').value || 'N√£o aplic√°vel';
            formData.accidentTime = document.getElementById('accident-time').value || 'N√£o aplic√°vel';
            formData.accidentPlace = document.getElementById('accident-place').value || 'N√£o aplic√°vel';
            formData.accidentType = document.getElementById('accident-type').value || 'N√£o aplic√°vel';
            formData.accidentDescription = document.getElementById('accident-description').value || 'N√£o aplic√°vel';
            
            // Bloco VIII
            formData.registryOffice = document.getElementById('registry-office').value || 'N√£o informado';
            formData.registryCity = document.getElementById('registry-city').value || 'N√£o informado';
            formData.registryUf = document.getElementById('registry-uf').value || 'N√£o informado';
            formData.registryDate = document.getElementById('registry-date').value || 'N√£o informado';
            
            // Bloco IX
            formData.declarantName = document.getElementById('declarant-name').value || 'N√£o aplic√°vel';
            formData.declarantDoc = document.getElementById('declarant-doc').value || 'N√£o aplic√°vel';
            formData.witness1Name = document.getElementById('witness1-name').value || 'N√£o aplic√°vel';
            formData.witness1Doc = document.getElementById('witness1-doc').value || 'N√£o aplic√°vel';
            formData.witness2Name = document.getElementById('witness2-name').value || 'N√£o aplic√°vel';
            formData.witness2Doc = document.getElementById('witness2-doc').value || 'N√£o aplic√°vel';
            
            return formData;
        }
        
        // Mostrar resumo da DO
        function showSummary() {
            currentDOData = collectFormData();
            saveToHistory();
            generateSummary(currentDOData);
            navigateTo('summary-screen');
        }
        
        // Gerar resumo da DO
        function generateSummary(doData) {
            const summaryContent = document.getElementById('summary-content');
            
            let summaryHTML = `
                <div class="summary-section">
                    <h3><span class="icon icon-user"></span> Identifica√ß√£o do Falecido</h3>
                    <div class="summary-item">
                        <div class="summary-label">Nome completo:</div>
                        <div class="summary-value">${doData.patientName}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Documento:</div>
                        <div class="summary-value">${doData.patientDoc}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Nome da m√£e:</div>
                        <div class="summary-value">${doData.motherName}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Nome do pai:</div>
                        <div class="summary-value">${doData.fatherName}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Data de nascimento:</div>
                        <div class="summary-value">${formatDate(doData.birthDate)}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Data do √≥bito:</div>
                        <div class="summary-value">${formatDate(doData.deathDate)}</div>
                    </div>
                </div>
                
                <div class="summary-section">
                    <h3><span>üè†</span> Resid√™ncia</h3>
                    <div class="summary-item">
                        <div class="summary-label">Endere√ßo:</div>
                        <div class="summary-value">${doData.resStreet} ${doData.resNumber} ${doData.resComplement}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Bairro:</div>
                        <div class="summary-value">${doData.resDistrict}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Cidade/UF:</div>
                        <div class="summary-value">${doData.resCity}/${doData.resState}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">CEP:</div>
                        <div class="summary-value">${doData.resCep}</div>
                    </div>
                </div>
                
                <div class="summary-section">
                    <h3><span>üìç</span> Local da Ocorr√™ncia</h3>
                    <div class="summary-item">
                        <div class="summary-label">Local:</div>
                        <div class="summary-value">${getDeathPlaceText(doData.deathPlace)}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Institui√ß√£o:</div>
                        <div class="summary-value">${doData.deathInstitution}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Endere√ßo:</div>
                        <div class="summary-value">${doData.deathAddress}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Cidade/UF:</div>
                        <div class="summary-value">${doData.deathCity}/${doData.deathState}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Causa violenta:</div>
                        <div class="summary-value">${doData.violentDeath}</div>
                    </div>
                </div>
                
                <div class="summary-section">
                    <h3><span>‚öïÔ∏è</span> Causas do √ìbito</h3>
                    <div class="summary-item">
                        <div class="summary-label">Causa imediata:</div>
                        <div class="summary-value">${doData.immediateCause}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Causa antecedente:</div>
                        <div class="summary-value">${doData.antecedentCause}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Causa b√°sica:</div>
                        <div class="summary-value">${doData.underlyingCause}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Outras condi√ß√µes:</div>
                        <div class="summary-value">${doData.otherConditions}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Tipo de morte:</div>
                        <div class="summary-value">${getDeathMannerText(doData.deathManner)}</div>
                    </div>
                </div>
                
                <div class="summary-section">
                    <h3><span class="icon icon-user"></span> M√©dico Declarante</h3>
                    <div class="summary-item">
                        <div class="summary-label">Nome:</div>
                        <div class="summary-value">${doData.doctorName}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">CRM/UF:</div>
                        <div class="summary-value">${doData.doctorCrm}/${doData.doctorUf}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Data de assinatura:</div>
                        <div class="summary-value">${formatDate(doData.signatureDate)}</div>
                    </div>
                </div>
            `;
            
            if (doData.violentDeath === 'Sim') {
                summaryHTML += `
                    <div class="summary-section">
                        <h3><span>‚ö†Ô∏è</span> Causas Externas</h3>
                        <div class="summary-item">
                            <div class="summary-label">Data do ocorrido:</div>
                            <div class="summary-value">${formatDate(doData.accidentDate)}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Hora do ocorrido:</div>
                            <div class="summary-value">${doData.accidentTime}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Local:</div>
                            <div class="summary-value">${doData.accidentPlace}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Tipo:</div>
                            <div class="summary-value">${getAccidentTypeText(doData.accidentType)}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Descri√ß√£o:</div>
                            <div class="summary-value">${doData.accidentDescription}</div>
                        </div>
                    </div>
                `;
            }
            
            summaryHTML += `
                <div class="summary-section">
                    <h3><span>üè¢</span> Cart√≥rio</h3>
                    <div class="summary-item">
                        <div class="summary-label">Nome:</div>
                        <div class="summary-value">${doData.registryOffice}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Cidade/UF:</div>
                        <div class="summary-value">${doData.registryCity}/${doData.registryUf}</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Data do registro:</div>
                        <div class="summary-value">${formatDate(doData.registryDate)}</div>
                    </div>
                </div>
            `;
            
            if (doData.declarantName && doData.declarantName !== 'N√£o aplic√°vel') {
                summaryHTML += `
                    <div class="summary-section">
                        <h3><span>üë•</span> Localidade sem M√©dico</h3>
                        <div class="summary-item">
                            <div class="summary-label">Declarante:</div>
                            <div class="summary-value">${doData.declarantName}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Documento:</div>
                            <div class="summary-value">${doData.declarantDoc}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Testemunha 1:</div>
                            <div class="summary-value">${doData.witness1Name}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Documento:</div>
                            <div class="summary-value">${doData.witness1Doc}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Testemunha 2:</div>
                            <div class="summary-value">${doData.witness2Name}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Documento:</div>
                            <div class="summary-value">${doData.witness2Doc}</div>
                        </div>
                    </div>
                `;
            }
            
            summaryContent.innerHTML = summaryHTML;
        }
        
        // Fun√ß√µes auxiliares para texto
        function getDeathPlaceText(value) {
            const places = {
                'hospital': 'Hospital',
                'domicilio': 'Domic√≠lio',
                'via_publica': 'Via P√∫blica',
                'outro': 'Outro'
            };
            return places[value] || value;
        }
        
        function getDeathMannerText(value) {
            const manners = {
                'natural': 'Natural',
                'acidente': 'Acidente',
                'suicidio': 'Suic√≠dio',
                'homicidio': 'Homic√≠dio',
                'ignorado': 'Ignorado'
            };
            return manners[value] || value;
        }
        
        function getAccidentTypeText(value) {
            const types = {
                'transito': 'Acidente de Tr√¢nsito',
                'queda': 'Queda',
                'afogamento': 'Afogamento',
                'intoxicacao': 'Intoxica√ß√£o',
                'agressao': 'Agress√£o F√≠sica',
                'outro': 'Outro'
            };
            return types[value] || value;
        }
        
        // Salvar no hist√≥rico
        function saveToHistory() {
            if (!currentDOData) return;
            
            const historyItem = {
                id: Date.now(),
                patientName: currentDOData.patientName,
                deathDate: currentDOData.deathDate,
                doctorName: currentDOData.doctorName,
                timestamp: new Date().toISOString(),
                data: currentDOData
            };
            
            history.unshift(historyItem);
            localStorage.setItem('doHistory', JSON.stringify(history));
        }
        
        // Carregar hist√≥rico
        function loadHistory() {
            const historyList = document.getElementById('history-list');
            
            if (history.length === 0) {
                historyList.innerHTML = `
                    <div class="empty-history">
                        <span>üìÇ</span>
                        <h3>Nenhuma declara√ß√£o encontrada</h3>
                        <p>Preencha uma declara√ß√£o de √≥bito para come√ßar seu hist√≥rico</p>
                    </div>
                `;
                return;
            }
            
            historyList.innerHTML = '';
            
            history.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-info">
                        <div class="history-name">${item.patientName}</div>
                        <div class="history-date">${formatDate(item.deathDate)} - Preenchido por: ${item.doctorName}</div>
                    </div>
                    <div class="history-actions">
                        <button class="action-btn" onclick="viewSummary('${item.id}')" title="Visualizar">
                            <span class="icon icon-eye"></span>
                        </button>
                        <button class="action-btn" onclick="deleteHistoryItem('${item.id}')" title="Excluir">
                            <span class="icon icon-trash"></span>
                        </button>
                    </div>
                `;
                historyList.appendChild(historyItem);
            });
        }
        
        // Visualizar resumo salvo
        function viewSummary(id) {
            const item = history.find(i => i.id == id);
            if (item) {
                currentDOData = item.data;
                generateSummary(currentDOData);
                navigateTo('summary-screen');
            }
        }
        
        // Excluir item do hist√≥rico
        function deleteHistoryItem(id) {
            if (confirm('Tem certeza que deseja excluir este item do hist√≥rico?')) {
                history = history.filter(item => item.id != id);
                localStorage.setItem('doHistory', JSON.stringify(history));
                loadHistory();
            }
        }
        
        // Atualizar barra de progresso
        function updateProgress() {
            const progress = ((currentSection + 1) / doSections.length) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.querySelector('.progress-text').textContent = `Bloco ${currentSection + 1} de ${doSections.length}`;
            
            document.querySelectorAll('.step').forEach((step, index) => {
                if (index <= currentSection) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }
        
        // Formatar data para exibi√ß√£o
        function formatDate(dateString) {
            if (!dateString || dateString === 'N√£o informado') return dateString;
            
            try {
                const date = new Date(dateString);
                if (isNaN(date.getTime())) return dateString;
                
                return date.toLocaleDateString('pt-BR');
            } catch (e) {
                return dateString;
            }
        }
        
        // Service Worker para PWA offline
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker registrado com sucesso', reg))
                    .catch(err => console.log('Falha no registro do Service Worker', err));
            });
        }
        
        // Impedir zoom em dispositivos m√≥veis
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });
    </script>
</body>
</html>
